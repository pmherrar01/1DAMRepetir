CREATE DATABASE COLECCIONPELICULAS
CREATE TABLE GENERO (
    Genero VARCHAR(50) PRIMARY KEY,
    Descripcion VARCHAR(255) NOT NULL
);

CREATE TABLE DIRECTOR (
    Nombre VARCHAR(100) PRIMARY KEY,
    LugarNacimiento VARCHAR(255),
    FechaNacimiento DATE
);

CREATE TABLE PELICULA (
    Codigo INT  PRIMARY KEY,
    Titulo VARCHAR(255) NOT NULL,
    Director VARCHAR(100) NOT NULL,
    Anio YEAR,
    Genero VARCHAR(50),
    FOREIGN KEY (Genero) REFERENCES GENERO(Genero)
 		ON DELETE SET NULL
 		ON UPDATE CASCADE,
    FOREIGN KEY (Director) REFERENCES DIRECTOR(Nombre)
ON DELETE CASCADE
ON UPDATE CASCADE
);

CREATE TABLE ACTOR (
    Nombre VARCHAR(100) PRIMARY KEY,
    LugarNacimiento VARCHAR(255),
    FechaNacimiento DATE,
    Sexo CHAR(1) NOT NULL CHECK (Sexo IN ('M', 'V')),
    Edad INT NOT NULL CHECK (Edad >= 5)
);

CREATE TABLE ACTOR_PELICULA (
    Pelicula INT,
    Actor VARCHAR(100),
    Personaje VARCHAR(255) NOT NULL,
    PRIMARY KEY (Pelicula, Actor),
    FOREIGN KEY (Pelicula) REFERENCES PELICULA(Codigo)
ON DELETE CASCADE
ON UPDATE CASCADE,
    FOREIGN KEY (Actor) REFERENCES ACTOR(Nombre) ON DELETE CASCADE ON UPDATE CASCADE
);
